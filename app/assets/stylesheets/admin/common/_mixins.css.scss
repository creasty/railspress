
/*=== Grid
==============================================================================================*/
@function grid-span($n) {
	@return $n * $grid-width + ($n - 1) * $grid-gutter;
}
@function grid-span-px($n, $width: $grid-pixel-default) {
	@return ceil((grid-span($n) / 100%) * $width);
}


/*=== Font
==============================================================================================*/
@mixin font($color: null, $size: null, $line: null) {
	@if $color {
		color: $color;
	}
	@if $size {
		font-size: $size;
	}
	@if $line {
		line-height: $line;
	}
}


/*=== Spacing
==============================================================================================*/
@mixin spacing($margin: null, $padding: null) {
	@if $margin {
		margin: $margin;
	}
	@if $padding {
		padding: $padding;
	}
}


/*=== Size
==============================================================================================*/
@mixin size($width: null, $height: null) {
	@if $width {
		width: $width;
	}
	@if $height {
		height: $height;
	}
}


/*=== Float
==============================================================================================*/
@mixin float($selector: ">*", $margin: null, $direction: left, $width: null) {
	@extend .clear-after;

	#{$selector} {
		margin-#{$direction}: $margin;
		display: block;
		float: $direction;

		&:first-child {
			margin-#{$direction}: 0;
		}

		@if length($width) < 2 {
			width: $width;
		}
		@else {
			$s: "&:first-child";

			@for $i from 1 through length($width) {
				@if $i > 1 {
					$s: $s + "+*";
				}
				#{$s} {
					width: nth($width, $i);
				}
			}
		}
	}
}


/*=== Arrow
==============================================================================================*/
@mixin arrow($side, $size, $color, $left: 0, $top: 0) {
	$side: opposite($side);

	display: block;
	position: absolute;
	@if $left != none {
		margin-left: -$size;
		left: $left;
	}
	@if $top != none {
		top: $top;
	}
	@include size(0, 0);
	border: $size solid transparent;
	border-#{$side}-color: $color;
}


/*=== Keyframes
==============================================================================================*/
@mixin keyframes($name) {
	@-webkit-keyframes #{$name} {
		@content;
	}
	@-moz-keyframes #{$name} {
		@content;
	}
	@-ms-keyframes #{$name} {
		@content;
	}
	@keyframes #{$name} {
		@content;
	}
}


/*=== Opposite
==============================================================================================*/
@function opposite($side) {
	$oppo: right;

	@if $side == top {
		$oppo: bottom;
	}
	@else if $side == right {
		$oppo: left;
	}
	@else if $side == bottom {
		$oppo: top;
	}

	@return $oppo;
}


/*=== Vertical Center
==============================================================================================*/
@mixin vm-box {
	&:before {
		content: "";
		height: 100%;
		width: 1px;
		margin-left: -1px;
		@include inline-block;
		vertical-align: middle;
	}
	> * {
		@include inline-block;
		vertical-align: middle;
	}
}


/*=== Popup Box Shadow
==============================================================================================*/
@mixin popup-box-shadow($add: none) {
	//$sh: 0 1px 6px rgba(#000, .35), 0 0 0 1px rgba(#000, .2);
	$sh: 0 0 0 1px rgba(#000, .2), 0 6px 0 -3px rgba(#000, .1);

	@if $add == none {
		@include box-shadow($sh);
	}
	@else {
		@include box-shadow($sh, $add);
	}
}


/*=== Animation
==============================================================================================*/
@mixin popup-animation(
	$el: '&',
	$selector: '.show &',
	$duration: .3s,
	$scale: .98,
	$opacity: true
) {
	#{$el} {
		visibility: hidden;
		@if $opacity {
			opacity: 0;
		}
		@if $scale != 1 {
			@include transform(scale($scale));
		}
		@include transition(all #{$duration}, visibility 0s #{$duration});
	}

	#{$selector} {
		visibility: visible;
		@if $opacity {
			opacity: 1;
		}
		@if $scale != 1 {
			@include transform(scale(1));
		}
		@include transition-delay(0s);
	}
}


/*=== Scroll Bar
==============================================================================================*/
@mixin webkit-scrollbar {
	::-webkit-scrollbar {
		height: 8px;
		width: 8px;
	}

	::-webkit-scrollbar-track {
		background: rgba(#000, .1);
		@include box-shadow(inset 0 0 6px rgba(#000, 0));
		@include border-radius(4px);
	}

	::-webkit-scrollbar-thumb {
		border: 1px solid rgba(#fff, .15);
		background: rgba(#000, .3);
		@include border-radius(4px);
		@include box-shadow(inset 0 0 6px rgba(#000, 0));
	}

	::-webkit-scrollbar-thumb:window-inactive {
		background: rgba(#000, .1);
	}
}

