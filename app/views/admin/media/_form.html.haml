- content_for :menubar do
  - if @medium.asset.present?
    = link_to '', @medium.asset.url, target: '_blank', class: 'icon-link'


= form_for [:admin, @medium], html: { multipart: true, id: 'medium_form' } do |f|
  #pocket_body
    #main.no-padding
      - if @medium.asset.present?

        - if @medium.image?
          #zoom
            = image_tag @medium.asset.url, id: 'cropbox'

          - %w[crop_x crop_y crop_w crop_h].each do |a|
            = f.hidden_field a, id: a, class: 'text'

        - else

          No Preview

      - else

        = f.file_field :asset

  #pocket_side
    %section
      %h2
        ファイル情報

      %table.form.table-doubled
        %tr
          %td
            %h3= f.label :title, 'タイトル'
            = f.text_field :title, class: 'text block'
        %tr
          %td
            %h3= f.label :description, '説明文'
            = f.text_area :description, size: '30x5', class: 'textarea block'

        %tr
          %td
            = f.submit nil, class: 'btn btn-primary block'

        - if @medium.asset.present?
          %tr.condensed
            %td
              = f.button 'アップロードし直す', class: 'btn btn-success block'

    /
      %section
      #zoom_controller
        %input{ type: 'range', class: 'zoom-range' }
        %br
        = button_tag 'Zoom In', class: 'btn icon-zoomin zoom-in'
        = button_tag 'Zoom Out', class: 'btn icon-zoomout zoom-out'
        = button_tag 'Reset', class: 'btn btn-search reset'

    - if @medium.asset.present?
      %section
        %h2 ファイルを削除
        = link_to '削除する', admin_medium_path(@medium), method: :delete, confirm: true, class: 'btn btn-danger block'
